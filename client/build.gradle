import org.apache.tools.ant.taskdefs.condition.Os

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

def os=''


task checkWin() {
    if (Os.isFamily(Os.FAMILY_WINDOWS)) {
        println "*** WINDOWS "
        os = 'WINDOWS'
    } else {
        println "*** NOT WINDOWS "
        os = 'LINUX'
    }
}

task frontInstall(type:Exec) {
    doFirst {
        println 'frontend exec "npm install"'
        println 'os=' + os
        if (os == 'WINDOWS') {
            commandLine 'npm.cmd','install'
        } else {
            commandLine 'npm','install'
        }
    }
}

task frontInstall2(type:Exec) {
    println 'frontend exec "npm install"'
    commandLine 'npm','install'
}

task frontBuild(type:Exec) {
    doFirst {
        println 'frontend exec "npm  run build"'
        println 'os=' + os
        if (os == 'WINDOWS') {
            commandLine 'npm.cmd','run','build'
        } else {
            commandLine 'npm','run','build'
        }
    }
}

task frontBuild2(type:Exec) {
    println 'frontend exec "npm run build"'
    commandLine 'npm','run','build'
}